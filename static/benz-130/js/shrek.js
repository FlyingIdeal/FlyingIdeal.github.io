/*!
 * VERSION: 0.4.0
 * DATE: 2016-1-16
 * GIT:https://github.com/shrekshrek/jstween
 *
 * @author: Shrek.wang, shrekshrek@gmail.com
 **/
!function(t){var n="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;"function"==typeof define&&define.amd?define(["exports"],function(e){n.JT=t(n,e)}):"undefined"!=typeof exports?t(n,exports):n.JT=t(n,{})}(function(t,n){function e(t,n){for(var e in n){t[e]=n[e]}}function a(t,n){if("function"==typeof t){n.call(t,0,t)}else{if(void 0===t.length){n.call(t,0,t)}else{for(var e=0;e<t.length;e++){n.call(t[e],e,t[e])}}}}function i(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function r(t){return t.replace(/\b(\w)|\s(\w)/g,function(t){return t.toUpperCase()})}function o(t){return t?T+r(t):T}function s(t){if(!t){throw"target is undefined, can't tween!!!"}return"string"==typeof t?"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t):t}function u(t,n){return void 0!==t._jt_obj[n]?n:void 0!==t.style[n]?n:(n=o(n),void 0!==t.style[n]?n:void 0)}function l(t,n){if("string"==typeof n){var e=n.substr(0,2),a=parseFloat(n.substr(2));switch(e){case"+=":n=t+a;break;case"-=":n=t-a}}return n}function h(t,n){switch(t){case"opacity":case"fontWeight":case"lineHeight":case"zoom":return n;default:return"number"==typeof n?Math.round(n)+"px":n}}function c(t){void 0==t._jt_obj&&(t._jt_obj={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,scaleZ:1})}function f(t,n){switch(n){case"x":case"y":case"z":case"rotationX":case"rotationY":case"rotationZ":case"scaleX":case"scaleY":case"scaleZ":return t._jt_obj[n];default:return p(t,n)}}function p(t,n){if(document.defaultView&&document.defaultView.getComputedStyle){var e=i(n),a=document.defaultView.getComputedStyle(t,"");return a&&a.getPropertyValue(e)}return t.currentStyle?t.currentStyle[n]:null}function d(t,n,e){switch(n){case"x":case"y":case"z":case"rotationX":case"rotationY":case"rotationZ":case"scaleX":case"scaleY":case"scaleZ":return t._jt_obj[n]=e,!0;
default:return m(t,n,e),!1}}function m(t,n,e){t.style[n]=h(n,e)}function v(t){return"object"==typeof t&&1===t.nodeType}function y(){x=!0;var t,n,e=O.length,a=R.length;if(0===e&&0===a){return void (x=!1)}var i=E();for(t=e-1;t>=0;t--){if(O[t]&&!O[t]._update(i)){var r=O.splice(t,1)[0];r.onUpdate&&r.onUpdate.apply(r,r.onUpdateParams),r.onEnd&&r.onEnd.apply(r,r.onEndParams),r.target=null}}for(n=a-1;n>=0;n--){if(R[n]&&!R[n]._update(i)){var o=R.splice(n,1)[0];o.onEnd&&o.onEnd.apply(o,o.onEndParams)}}I(y)}function g(){this.initialize.apply(this,arguments)}function _(t,n){var e=s(t),i=O.length;a(e,function(t,e){for(var a=i-1;a>=0;a--){var r=O[a];r.target===e&&r[n]()}})}function j(t){for(var n=O.length,e=n-1;e>=0;e--){var a=O[e];a[t]()}}function P(){this.initialize.apply(this,arguments)}function M(t,n){var e=t,i=R.length;a(e,function(t,e){for(var a=i-1;a>=0;a--){var r=R[a];r.onEnd===e&&r[n]()}})}function b(t){for(var n=R.length,e=n-1;e>=0;e--){var a=R[e];a[t]()}}var w=Date.now(),E=function(){return Date.now()-w},T="";!function(){var t=document.createElement("div"),n=["Webkit","Moz","Ms","O"];for(var e in n){if(n[e]+"Transform" in t.style){T=n[e];break}}}();var I=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,O=[],x=!1;e(g.prototype,{initialize:function(t,e,a,i,r){this.fromVars=a,this.toVars=i,this.target=t,this.duration=1000*Math.max(e,0),this.ease=i.ease||n.Linear.None,this.delay=1000*Math.max(i.delay||0,0),this.yoyo=i.yoyo||!1,this.repeat=this.curRepeat=Math.floor(i.repeat||0),this.repeatDelay=1000*Math.max(i.repeatDelay||0,0),this.onStart=i.onStart||null,this.onStartParams=i.onStartParams||[],this.onRepeat=i.onRepeat||null,this.onRepeatParams=i.onRepeatParams||[],this.onEnd=i.onEnd||null,this.onEndParams=i.onEndParams||[],this.onUpdate=i.onUpdate||null,this.onUpdateParams=i.onUpdateParams||[],this.isPlaying=i.isPlaying||!0,this.isReverse=!1,this.isDom=r,this.curTime=0,this.lastTime=E(),this.isStart=!1,this.startTime=this.delay,this.endTime=this.startTime+this.repeatDelay+this.duration,0!=this.delay&&(this._updateProp(),this.onUpdate&&this.onUpdate.apply(this,this.onUpdateParams)),O.unshift(this),x?this._update(this.lastTime):y()
},_update:function(t){var n=t-this.lastTime;if(this.lastTime=t,!this.isPlaying){return !0}if(this.curTime+=n,this.curTime<this.startTime){return !0}if(this.isStart||(this.isStart=!0,this.onStart&&this.onStart.apply(this,this.onStartParams)),this.curTime<this.startTime+this.repeatDelay){return !0}if(this.curTime<this.endTime){this._updateProp(),this.onUpdate&&this.onUpdate.apply(this,this.onUpdateParams)}else{if(0==this.curRepeat){return this._updateProp(),!1}this.yoyo&&(this.isReverse=!this.isReverse),0==this.repeatDelay?(this.curTime=this.curTime-this.duration-this.repeatDelay,this._updateProp()):(this._updateProp(),this.curTime=this.curTime-this.duration-this.repeatDelay),this.onUpdate&&this.onUpdate.apply(this,this.onUpdateParams),this.onRepeat&&this.onRepeat.apply(this,this.onRepeatParams),this.curRepeat>0&&this.curRepeat--}return !0},_updateProp:function(){var t=0==this.duration?1:(this.curTime-this.startTime-this.repeatDelay)/this.duration;t=Math.max(0,Math.min(1,t)),this.isReverse&&(t=1-t);var n=this.ease(t),e=!1;for(var a in this.fromVars){var i=this.fromVars[a],r=this.toVars[a]||0,s=i+(r-i)*n;s=Math.round(100*s)/100,this.isDom?d(this.target,a,s)&&(e=!0):this.target[a]=s}e&&(this.target.style[o("transform")]="translate3d("+this.target._jt_obj.x+"px,"+this.target._jt_obj.y+"px,"+this.target._jt_obj.z+"px) rotateX("+this.target._jt_obj.rotationX%360+"deg) rotateY("+this.target._jt_obj.rotationY%360+"deg) rotateZ("+this.target._jt_obj.rotationZ%360+"deg) scale3d("+this.target._jt_obj.scaleX+", "+this.target._jt_obj.scaleY+", "+this.target._jt_obj.scaleZ+") ")},play:function(){this.target&&(this.isPlaying=!0)},pause:function(){this.target&&(this.isPlaying=!1)},destroy:function(t){if(this.target){var n=O.indexOf(this);if(-1!==n){var e=O.splice(n,1)[0];t&&e.onEnd&&e.onEnd.apply(e,e.onEndParams),this.target=null}}}}),e(n,{get:function(t,n){var e=s(t);if(void 0!==e.length&&(e=e[0]),v(e)){c(e);var a=u(e,n);return a?f(e,a):null}return e[n]},set:function(t,n){var e=s(t);
a(e,function(t,e){if(v(e)){c(e);var a=!1;for(var i in n){var r=u(e,i);if(r){var s=l(parseFloat(f(e,r)),n[i]);d(e,r,s)&&(a=!0)}}a&&(e.style[o("transform")]="translate3d("+e._jt_obj.x+"px,"+e._jt_obj.y+"px,"+e._jt_obj.z+"px) rotateX("+e._jt_obj.rotationX%360+"deg) rotateY("+e._jt_obj.rotationY%360+"deg) rotateZ("+e._jt_obj.rotationZ%360+"deg) scale3d("+e._jt_obj.scaleX+", "+e._jt_obj.scaleY+", "+e._jt_obj.scaleZ+") ")}else{for(var h in n){e[h]=l(e[h],n[h])}}})},fromTo:function(t,n,e,i){var r=s(t),o=[];return a(r,function(t,a){var r={},s={},h=v(a);h&&c(a);for(var p in i){if(h?void 0!==u(a,p):void 0!==a[p]){var d=h?parseFloat(f(a,p)):a[p];r[p]=l(d,e[p]),s[p]=l(d,i[p])}else{s[p]=i[p]}}var m=new g(a,n,r,s,h);o.push(m)}),1==o.length?o[0]:o},from:function(t,n,e){var i=s(t),r=[];return a(i,function(t,a){var i={},o={},s=v(a);s&&c(a);for(var h in e){if(s?void 0!==u(a,h):void 0!==a[h]){var p=s?parseFloat(f(a,h)):a[h];o[h]=p,i[h]=l(p,e[h])}else{o[h]=e[h]}}var d=new g(a,n,i,o,s);r.push(d)}),1==r.length?r[0]:r},to:function(t,n,e){var i=s(t),r=[];return a(i,function(t,a){var i={},o={},s=v(a);s&&c(a);for(var h in e){if(s?void 0!==u(a,h):void 0!==a[h]){var p=s?parseFloat(f(a,h)):a[h];i[h]=p,o[h]=l(p,e[h])}else{o[h]=e[h]}}var d=new g(a,n,i,o,s);r.push(d)}),1==r.length?r[0]:r},kill:function(t,n){var e=s(t);a(e,function(t,e){for(var a=O.length,i=a-1;i>=0;i--){var r=O[i];r.target===e&&(O.splice(i,1),n&&r.onEnd&&r.onEnd.apply(r,r.onEndParams),r.target=null)}})},killAll:function(t){if(!t){return void (O=[])}for(var n=O.length,e=n-1;e>=0;e--){var a=O.splice(e,1);t&&a.onEnd&&a.onEnd.apply(a,a.onEndParams),a.target=null}},play:function(t){_(t,"play")},playAll:function(){j("play")},pause:function(t){_(t,"pause")},pauseAll:function(){j("pause")}});var R=[];return e(P.prototype,{initialize:function(t,n,e,a){this.delay=1000*t,this.onEnd=n||null,this.onEndParams=e||[],this.curTime=0,this.lastTime=E(),this.endTime=this.delay,this.isPlaying=a||!0,R.unshift(this),x?this._update(this.lastTime):y()},_update:function(t){var n=t-this.lastTime;
return this.lastTime=t,this.isPlaying?(this.curTime+=n,this.curTime<this.endTime?!0:!1):!0},play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},destroy:function(t){var n=R.indexOf(this);if(-1!==n){var e=R.splice(n,1)[0];t&&e.onEnd&&e.onEnd.apply(e,e.onEndParams)}}}),e(n,{call:function(t,n,e){return new P(t,n,e)},killCall:function(t,n){var e=t,i=R.length;a(e,function(t,e){for(var a=i-1;a>=0;a--){var r=R[a];r.onEnd===e&&(R.splice(a,1),n&&r.onEnd&&r.onEnd.apply(r,r.onEndParams))}})},killAllCalls:function(t){if(!t){return void (R=[])}for(var n=R.length,e=n-1;e>=0;e--){var a=R.splice(e,1);t&&a.onEnd&&a.onEnd.apply(a,a.onEndParams)}},playCall:function(t){M(t,"play")},playAllCalls:function(){b("play")},pauseCall:function(t){M(t,"pause")},pauseAllCalls:function(){b("pause")}}),e(n,{Linear:{None:function(t){return t}},Quad:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?0.5*t*t:-0.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return --t*t*t+1},InOut:function(t){return(t*=2)<1?0.5*t*t*t:0.5*((t-=2)*t*t+2)}},Quart:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?0.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)}},Quint:{In:function(t){return t*t*t*t*t},Out:function(t){return --t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?0.5*t*t*t*t*t:0.5*((t-=2)*t*t*t*t+2)}},Sine:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return 0.5*(1-Math.cos(Math.PI*t))}},Expo:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?0.5*Math.pow(1024,t-1):0.5*(-Math.pow(2,-10*(t-1))+2)}},Circ:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-0.5*(Math.sqrt(1-t*t)-1):0.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var n,e=0.1,a=0.4;return 0===t?0:1===t?1:(!e||1>e?(e=1,n=a/4):n=a*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(t-=1))*Math.sin(2*(t-n)*Math.PI/a)))
},Out:function(t){var n,e=0.1,a=0.4;return 0===t?0:1===t?1:(!e||1>e?(e=1,n=a/4):n=a*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin(2*(t-n)*Math.PI/a)+1)},InOut:function(t){var n,e=0.1,a=0.4;return 0===t?0:1===t?1:(!e||1>e?(e=1,n=a/4):n=a*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?-0.5*e*Math.pow(2,10*(t-=1))*Math.sin(2*(t-n)*Math.PI/a):e*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-n)*Math.PI/a)*0.5+1)}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return --t*t*((n+1)*t+n)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?0.5*t*t*((n+1)*t-n):0.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-n.Bounce.Out(1-t)},Out:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+0.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+0.9375:7.5625*(t-=2.625/2.75)*t+0.984375},InOut:function(t){return 0.5>t?0.5*n.Bounce.In(2*t):0.5*n.Bounce.Out(2*t-1)+0.5}}}),n.now=E,n});
/*!
 * VERSION: 0.7.0
 * DATE: 2015-12-20
 * GIT:https://github.com/shrekshrek/css3d-engine
 *
 * @author: Shrek.wang, shrekshrek@gmail.com
 **/
!function(t){var i="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;"function"==typeof define&&define.amd?define(["exports"],function(e){i.C3D=t(i,e)}):"undefined"!=typeof exports?t(i,exports):i.C3D=t(i,{})}(function(t,i){function e(t){return Math.round(t)}function s(t){return t.replace(/\b(\w)|\s(\w)/g,function(t){return t.toUpperCase()})}function n(t){var e;switch(t.type){case"sprite":e=new i.Sprite;break;case"plane":e=new i.Plane;break;case"cube":e=new i.Cube}if(t.size&&e.size.apply(e,t.size),t.position&&e.position.apply(e,t.position),t.rotation&&e.rotation.apply(e,t.rotation),t.scale&&e.scale.apply(e,t.scale),t.origin&&e.origin.apply(e,t.origin),t.visibility&&e.visibility.apply(e,t.visibility),t.material&&e.material.apply(e,t.material),t.filter&&e.filter.apply(e,t.filter),t.name&&e.name.apply(e,[t.name]),e.update(),t.children){for(var s=0,r=t.children.length;r>s;s++){var h=t.children[s],a=n(h);
e.addChild(a)}}return e}var r=t.C3D;i.VERSION="0.7.0",i.noConflict=function(){return t.C3D=r,this};var h=function(t){var i=[];for(var e in t){i.push(e)}return i},a=function(t){var i=arguments.length;if(2>i||null==t){return t}for(var e=1;i>e;e++){for(var s=arguments[e],n=h(s),r=n.length,a=0;r>a;a++){var o=n[a];t[o]=s[o]}}return t},o=function(t,i){var e,s=this;e=t&&Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},a(e,s,i);var n=function(){this.constructor=e};return n.prototype=s.prototype,e.prototype=new n,t&&a(e.prototype,t),e.__super__=s.prototype,e},l="";return function(){var t=document.createElement("div"),i=["Webkit","Moz","Ms","O"];for(var e in i){if(i[e]+"Transform" in t.style){l=i[e];break}}}(),i.getRandomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},i.rgb2hex=function(t,i,e){return(t<<16|i<<8|e).toString(16)},i.hex2rgb=function(t){var i=Math.floor("0x"+t),e=i>>16&255,s=i>>8&255,n=255&i;return[e,s,n]},i.Object=function(){this.initialize.apply(this,arguments)},a(i.Object.prototype,{x:0,y:0,z:0,position:function(t,i,e){switch(arguments.length){case 1:this.x=t,this.y=t,this.z=t;break;case 2:this.x=t,this.y=i;break;case 3:this.x=t,this.y=i,this.z=e}return this},move:function(t,i,e){switch(arguments.length){case 1:this.x+=t,this.y+=t,this.z+=t;break;case 2:this.x+=t,this.y+=i;break;case 3:this.x+=t,this.y+=i,this.z+=e}return this},rotationX:0,rotationY:0,rotationZ:0,rotation:function(t,i,e){switch(arguments.length){case 1:this.rotationX=t,this.rotationY=t,this.rotationZ=t;break;case 2:this.rotationX=t,this.rotationY=i;break;case 3:this.rotationX=t,this.rotationY=i,this.rotationZ=e}return this},rotate:function(t,i,e){switch(arguments.length){case 1:this.rotationX+=t,this.rotationY+=t,this.rotationZ+=t;break;case 2:this.rotationX+=t,this.rotationY+=i;break;case 3:this.rotationX+=t,this.rotationY+=i,this.rotationZ+=e}return this},scaleX:1,scaleY:1,scaleZ:1,scale:function(t,i,e){switch(arguments.length){case 1:this.scaleX=t,this.scaleY=t,this.scaleZ=t;
break;case 2:this.scaleX=t,this.scaleY=i;break;case 3:this.scaleX=t,this.scaleY=i,this.scaleZ=e}return this},width:0,height:0,depth:0,size:function(t,i,e){switch(arguments.length){case 1:this.width=t,this.height=t,this.depth=t;break;case 2:this.width=t,this.height=i;break;case 3:this.width=t,this.height=i,this.depth=e}return this},originX:0,originY:0,originZ:0,_orgO:{x:0,y:0,z:0},_orgT:{x:0,y:0,z:0},_orgF:{x:0,y:0,z:0},origin:function(t,i,e){switch(arguments.length){case 1:this.originX=t,this.originY=t,this.originZ=t;break;case 2:this.originX=t,this.originY=i;break;case 3:this.originX=t,this.originY=i,this.originZ=e}return this},_name:"",name:function(t){return this._name=t,this},initialize:function(){this.x=0,this.y=0,this.z=0,this.rotationX=0,this.rotationY=0,this.rotationZ=0,this.scaleX=1,this.scaleY=1,this.scaleZ=1,this.width=0,this.height=0,this.depth=0,this.originX="50%",this.originY="50%",this.originZ="0px",this._orgO={x:"50%",y:"50%",z:"0px"},this._orgT={x:"-50%",y:"-50%",z:"0px"},this._orgF={x:0,y:0,z:0},this.children=[],this._name=""},destroy:function(){this.parent&&this.parent.removeChild(this)},parent:null,children:null,addChild:function(t){return null!=t.parent&&t.parent.removeChild(t),""!=t._name&&(this[t._name]=t),this.children.push(t),t.parent=this,this},removeChild:function(t){for(var i=this.children.length-1;i>=0;i--){if(this.children[i]===t){return""!=t._name&&delete this[t._name],this.children.splice(i,1),t.parent=null,this}}return this},removeAllChild:function(){for(var t=this.children.length-1;t>=0;t--){var i=this.children[t];""!=i._name&&delete this[i._name],i.parent=null}return this.children=[],this},remove:function(){return null!=this.parent&&this.parent.removeChild(this),this}}),i.Object.extend=o,i.Sprite=i.Object.extend({el:null,alpha:1,visible:!0,mat:null,initialize:function(t){i.Sprite.__super__.initialize.apply(this,[t]),this.alpha=1,this.visible=!0;var e;if(t&&t.el){switch(typeof t.el){case"string":e=document.createElement("div"),e.style.position="absolute",e.innerHTML=t.el;
break;case"object":1===t.el.nodeType&&(e=t.el)}}e||(e=document.createElement("div"),e.style.position="absolute"),e.style[l+"Transform"]="translateZ(0px)",e.style[l+"TransformStyle"]="preserve-3d",this.el=e,e.le=this},update:function(){return this.updateS(),this.updateM(),this.updateO(),this.updateT(),this.updateV(),this},updateS:function(){return this},updateM:function(){if(!this.mat){return this}for(var t in this.mat){switch(t){case"bothsides":this.el.style[l+"BackfaceVisibility"]=this.mat[t]?"visible":"hidden";break;case"image":this.el.style["background"+s(t)]=""!==this.mat[t]?"url("+this.mat[t]+")":"";break;default:this.el.style["background"+s(t)]=this.mat[t]}}return this},updateO:function(){if("number"==typeof this.originX){var t=this.originX-this._orgF.x;this._orgO.x=t+"px",this._orgT.x=-t+"px"}else{this._orgO.x=this.originX,this._orgT.x="-"+this.originX}if("number"==typeof this.originY){var i=this.originY-this._orgF.y;this._orgO.y=i+"px",this._orgT.y=-i+"px"}else{this._orgO.y=this.originY,this._orgT.y="-"+this.originY}if("number"==typeof this.originZ){var e=this.originZ-this._orgF.z;this._orgO.z=e+"px",this._orgT.z=-e+"px"}else{this._orgO.z=this._orgT.z="0px"}return this.el.style[l+"TransformOrigin"]=this._orgO.x+" "+this._orgO.y+" "+this._orgO.z,this},updateT:function(){return this.el.style[l+"Transform"]="translate3d("+this._orgT.x+", "+this._orgT.y+", "+this._orgT.z+") translate3d("+this.x+"px,"+this.y+"px,"+this.z+"px) rotateX("+this.rotationX%360+"deg) rotateY("+this.rotationY%360+"deg) rotateZ("+this.rotationZ%360+"deg) scale3d("+this.scaleX+", "+this.scaleY+", "+this.scaleZ+") ",this},updateV:function(){return this.el.style.opacity=this.alpha,this.el.style.display=this.visible?"block":"none",this},addChild:function(t){return i.Sprite.__super__.addChild.apply(this,[t]),this.el&&t.el&&this.el.appendChild(t.el),this},removeChild:function(t){for(var i=this.children.length-1;i>=0;i--){if(this.children[i]===t){return""!=t._name&&delete this[t._name],this.children.splice(i,1),t.parent=null,this.el.removeChild(t.el),this
}}return this},removeAllChild:function(){for(var t=this.children.length-1;t>=0;t--){var i=this.children[t];""!=i._name&&delete this[i._name],i.parent=null,this.el.removeChild(i.el)}return this.children=[],this},on:function(t){if("object"==typeof t){for(var i in t){this.el.addEventListener(i,t[i],!1)}}else{2===arguments.length?this.el.addEventListener(arguments[0],arguments[1],!1):3===arguments.length&&this.el.addEventListener(arguments[0],arguments[1],arguments[2])}return this},off:function(t){if("object"==typeof t){for(var i in t){this.el.removeEventListener(i,t[i],!1)}}else{2===arguments.length&&this.el.removeEventListener(arguments[0],arguments[1],!1)}return this},buttonMode:function(t){return this.el.style.cursor=t?"pointer":"auto",this},material:function(t){return this.mat=t,this},visibility:function(t){return void 0!==t.visible&&(this.visible=t.visible),void 0!==t.alpha&&(this.alpha=t.alpha),this}}),i.Stage=i.Sprite.extend({camera:null,fov:null,__rfix:null,__pfix:null,initialize:function(t){i.Stage.__super__.initialize.apply(this,[t]),t&&t.el||(this.el.style.top="0px",this.el.style.left="0px",this.el.style.width="0px",this.el.style.height="0px"),this.el.style[l+"Perspective"]="800px",this.el.style[l+"TransformStyle"]="flat",this.el.style[l+"Transform"]="",this.el.style.overflow="hidden",this.__rfix=new i.Sprite,this.el.appendChild(this.__rfix.el),this.__pfix=new i.Sprite,this.__rfix.el.appendChild(this.__pfix.el),this.setCamera(new i.Camera)},updateS:function(){return this.el.style.width=e(this.width)+"px",this.el.style.height=e(this.height)+"px",this},updateT:function(){return this.fov=e(0.5/Math.tan(0.5*this.camera.fov/180*Math.PI)*this.height),this.el.style[l+"Perspective"]=this.fov+"px",this.__rfix.position(e(this.width/2),e(this.height/2),this.fov).rotation(-this.camera.rotationX,-this.camera.rotationY,-this.camera.rotationZ).updateT(),this.__pfix.position(-this.camera.x,-this.camera.y,-this.camera.z).updateT(),this},addChild:function(t){return this.__pfix.addChild(t),this
},removeChild:function(t){return this.__pfix.removeChild(t),this},setCamera:function(t){return this.camera&&(this.camera.stage=null),this.camera=t,this.camera.stage=this,this}}),i.Camera=i.Object.extend({fov:null,stage:null,initialize:function(t){i.Camera.__super__.initialize.apply(this,[t]),this.fov=75},update:function(){return this.updateT(),this},updateS:function(){return this},updateM:function(){return this},updateT:function(){return this.stage&&this.stage.updateT(),this},updateV:function(){return this}}),i.Plane=i.Sprite.extend({flt:null,initialize:function(t){i.Plane.__super__.initialize.apply(this,[t])},update:function(){return i.Plane.__super__.update.apply(this),this.updateF(),this},updateS:function(){return this.el.style.width=e(this.width)+"px",this.el.style.height=e(this.height)+"px",this},updateF:function(){if(!this.flt){return this}var t="";for(var i in this.flt){t+=""!==this.flt[i]?i+"("+this.flt[i].join(",")+")":""}return""!==t&&(this.el.style[l+"Filter"]=t),this},filter:function(t){return this.flt=t,this}}),i.Cube=i.Sprite.extend({front:null,back:null,left:null,right:null,up:null,down:null,flt:null,initialize:function(t){i.Cube.__super__.initialize.apply(this,[t]),this.front=new i.Plane,this.addChild(this.front),this.back=new i.Plane,this.addChild(this.back),this.left=new i.Plane,this.addChild(this.left),this.right=new i.Plane,this.addChild(this.right),this.up=new i.Plane,this.addChild(this.up),this.down=new i.Plane,this.addChild(this.down)},update:function(){return i.Cube.__super__.update.apply(this),this.updateF(),this},updateS:function(){var t=e(this.width),i=e(this.height),s=e(this.depth);return this._orgF.x=this.width/2,this._orgF.y=this.height/2,this._orgF.z=this.depth/2,this.front.size(t,i,0).position(0,0,-s/2).rotation(0,0,0).updateS().updateT(),this.back.size(t,i,0).position(0,0,s/2).rotation(0,180,0).updateS().updateT(),this.left.size(s,i,0).position(-t/2,0,0).rotation(0,90,0).updateS().updateT(),this.right.size(s,i,0).position(t/2,0,0).rotation(0,-90,0).updateS().updateT(),this.up.size(t,s,0).position(0,-i/2,0).rotation(-90,0,0).updateS().updateT(),this.down.size(t,s,0).position(0,i/2,0).rotation(90,0,0).updateS().updateT(),this
},updateM:function(){if(!this.mat){return this}for(var t in this.mat){switch(t){case"front":case"back":case"left":case"right":case"up":case"down":this[t].material({image:this.mat[t]}).updateM();break;default:this.front.material(this.mat).updateM(),this.back.material(this.mat).updateM(),this.left.material(this.mat).updateM(),this.right.material(this.mat).updateM(),this.up.material(this.mat).updateM(),this.down.material(this.mat).updateM()}}return this},updateF:function(){return this.flt?(this.front.filter(this.flt).updateF(),this.back.filter(this.flt).updateF(),this.left.filter(this.flt).updateF(),this.right.filter(this.flt).updateF(),this.up.filter(this.flt).updateF(),this.down.filter(this.flt).updateF(),this):this},filter:function(t){return this.flt=t,this}}),i.create=function(t){var i;switch(typeof t){case"array":i={type:"sprite",children:t};break;case"object":i=t;break;default:return}return n(i)},i});
/*!
 * VERSION: 0.6.0
 * DATE: 2015-12-31
 * GIT:https://github.com/shrekshrek/csstween
 *
 * @author: Shrek.wang, shrekshrek@gmail.com
 **/
!function(t){var e="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;"function"==typeof define&&define.amd?define(["exports"],function(n){e.CT=t(e,n)}):"undefined"!=typeof exports?t(e,exports):e.CT=t(e,{})}(function(t,e){function n(t,e){for(var n in e){t[n]=e[n]}}function i(t,e){if("function"==typeof t){e.call(t,0,t)}else{if(void 0===t.length){e.call(t,0,t)}else{for(var n=0;n<t.length;n++){e.call(t[n],n,t[n])}}}}function r(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function a(t){return t.replace(/\b(\w)|\s(\w)/g,function(t){return t.toUpperCase()})}function o(t){return t?E+a(t):E}function s(t){if(!t){throw"target is undefined, can't tween!!!"}return"string"==typeof t?"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t):t}function l(t,e){return void 0!==t.style[e]?e:(e=o(e),void 0!==t.style[e]?e:null)
}function u(t,e){if("string"==typeof e){var n=e.substr(0,2),i=parseFloat(e.substr(2));switch(n){case"+=":e=parseFloat(t)+i;break;case"-=":e=parseFloat(t)-i}}return e}function d(t,e){switch(t){case"opacity":case"fontWeight":case"lineHeight":case"zoom":return e;default:return"number"==typeof e?Math.round(e)+"px":e}}function f(t,e){if(document.defaultView&&document.defaultView.getComputedStyle){var n=r(e),i=document.defaultView.getComputedStyle(t,"");return i&&i.getPropertyValue(n)}return t.currentStyle?t.currentStyle[e]:null}function h(t,e){for(var n in e){void 0!=t.style[n]&&(t.style[n]=d(n,e[n]))}}function c(){return ++T}function m(t){for(var e in b){var n=b[e];if(n.type===F&&n.name===t||n.type===M&&n.selectorText===t){return{rule:n,index:e}}}return null}function v(t,e){var n=b.length;A.insertRule?A.insertRule(t+"{"+e+"}",n):A.addRule&&A.addRule(t,e,n)}function y(t){var e=m(t);null!==e&&(A.deleteRule?A.deleteRule(e.index):A.removeRule&&A.removeRule(e.index))}function p(t,e,n){var i="ct_kfs_"+t,a="0%{",s="100%{";for(var l in e){a+=r(l)+":"+d(l,e[l])+";",s+=r(l)+":"+d(l,n[l])+";"}return a+="}",s+="}",v("@"+r(o("Keyframes"))+" "+i,a+s),i}function g(){return ++k}function w(){this.initialize.apply(this,arguments)}var E="",R="animationstart",S="animationiteration",_="animationend",L="transitionend";!function(){var t=document.createElement("div"),e=["Webkit","Moz","Ms","O"];for(var n in e){if(e[n]+"Transition" in t.style){E=e[n],"Moz"!==E&&(R=E.toLowerCase()+"AnimationStart",S=E.toLowerCase()+"AnimationIteration",_=E.toLowerCase()+"AnimationEnd",L=E.toLowerCase()+"TransitionEnd");break}}}();var A,b,C=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,F=window.CSSRule.KEYFRAMES_RULE||window.CSSRule.WEBKIT_KEYFRAMES_RULE||window.CSSRule.MOZ_KEYFRAMES_RULE,M=window.CSSRule.STYLE_RULE||window.CSSRule.WEBKIT_STYLE_RULE||window.CSSRule.MOZ_STYLE_RULE,T=0;!function(){var t=document.createElement("style");
t.rel="stylesheet",t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),A=t.sheet,b=A.cssRules||A.rules||[]}();var H={},k=0;return n(w.prototype,{initialize:function(t,n,i,r){var a=this;this.fromVars=i,this.toVars=r,this.target=t,this.duration=Math.max(n,0),this.ease="cubic-bezier"+(r.ease||e.Linear.None),this.delay=Math.max(r.delay||0,0),this.yoyo=r.yoyo||!1,this.repeat=Math.floor(r.repeat||1),this.onStart=r.onStart||null,this.onStartParams=r.onStartParams||[],this.onRepeat=r.onRepeat||null,this.onRepeatParams=r.onRepeatParams||[],this.onEnd=r.onEnd||null,this.onEndParams=r.onEndParams||[],this.type=r.type||"";var s=g();if(this.target._ct_id&&H[this.target._ct_id].destroy(),this.target._ct_id=s,"a"==this.type){this.startHandler=function(){a.onStart&&a.onStart.apply(this,a.onStartParams)},this.target.addEventListener(R,this.startHandler,!1),this.repeatHandler=function(){a.onRepeat&&a.onRepeat.apply(this,a.onRepeatParams)},this.target.addEventListener(S,this.repeatHandler,!1),this.endHandler=function(){a.destroy(!0)},this.target.addEventListener(_,this.endHandler,!1);var l=c();this.kfsName=p(l,this.fromVars,this.toVars),this.target.style[o("Animation")]=this.kfsName+" "+this.duration+"s "+this.ease+" "+this.delay+"s "+(this.repeat<0?"infinite":this.repeat)+" "+(this.yoyo?"alternate":"normal"),this.target.style[o("AnimationFillMode")]="both",h(a.target,a.toVars)}else{this.endHandler=function(){a.destroy(!0)},this.target.addEventListener(L,this.endHandler,!1),C(function(){C(function(){a.target.style[o("Transition")]="all "+a.duration+"s "+a.ease+" "+a.delay+"s",h(a.target,a.toVars)})})}H[s]=this},destroy:function(t){if(0==t){for(var e in this.toVars){void 0!=this.target.style[e]&&(this.target.style[e]=f(this.target,e))}}"a"==this.type?(this.target.removeEventListener(R,this.startHandler,!1),this.target.removeEventListener(S,this.repeatHandler,!1),this.target.removeEventListener(_,this.endHandler,!1),this.target.style[o("Animation")]="",this.target.style[o("AnimationFillMode")]="",y(this.kfsName)):(this.target.removeEventListener(L,this.endHandler,!1),this.target.style[o("Transition")]=""),delete H[this.target._ct_id],delete this.target._ct_id,1==t&&this.onEnd&&this.onEnd.apply(this,this.onEndParams)
}}),n(e,{get:function(t,e){var n=s(t);void 0!==n.length&&(n=n[0]);var i=l(n,e);return i?f(n,i):null},set:function(t,e){var n=s(t);i(n,function(t,n){var i={};for(var r in e){var a=l(n,r);a&&(i[a]=d(a,u(f(n,a),e[r])))}h(n,i)})},fromTo:function(t,e,n,r){var a=s(t),o=[];return i(a,function(t,i){var a={},s={};for(var l in r){if(void 0!==i.style[l]){var d=parseFloat(f(i,l));a[l]=u(d,n[l]),s[l]=u(d,r[l])}else{s[l]=r[l]}}h(i,a);var c=new w(i,e,a,s);o.push(c)}),1==o.length?o[0]:o},from:function(t,e,n){var r=s(t),a=[];return i(r,function(t,i){var r={},o={};for(var s in n){if(void 0!==i.style[s]){var l=parseFloat(f(i,s));o[s]=l,r[s]=u(l,n[s])}else{o[s]=n[s]}}h(i,r);var d=new w(i,e,r,o);a.push(d)}),1==a.length?a[0]:a},to:function(t,e,n){var r=s(t),a=[];return i(r,function(t,i){var r={},o={};for(var s in n){if(void 0!==i.style[s]){var l=parseFloat(f(i,s));r[s]=l,o[s]=u(l,n[s])}else{o[s]=n[s]}}var d=new w(i,e,r,o);a.push(d)}),1==a.length?a[0]:a},kill:function(t,e){var n=s(t);i(n,function(t,n){n._ct_id&&H[n._ct_id].destroy(e)})},killAll:function(t){for(var e in H){H[e].destroy(t)}}}),n(e,{Linear:{None:"(0, 0, 1, 1)"},Quad:{In:"(0.3, 0, 0.65, 0.75)",Out:"(0.35, 0.25, 0.7, 1)",InOut:"(0.46, 0.03, 0.54, 0.97)"},Quart:{In:"(0.5, 0, 0.75, 0)",Out:"(0.25, 1, 0.5, 1)",InOut:"(0.75, 0, 0.25, 1)"},Back:{In:"(0, 0.35, 0.7, -0.6)",Out:"(0.3, 1.6, 0.65, 1)"}}),e});
